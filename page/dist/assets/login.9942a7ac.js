import{u as L,Q as z,a as U,b as B,_ as $,c as P}from"./use-quasar.b1a9249f.js";import{Q as _}from"./QCardSection.4591ffd9.js";import{Q as g}from"./QInput.3afb05c8.js";import{u as N,r as u,n as c,p as a,q as f,k as e,s as o,t as T,v as q,x as D,y as W,z as Q,A as y,B as h}from"./index.fb3f5ad5.js";import{Q as j,a as b,b as w,c as x}from"./QMenu.0d0ddedc.js";import{Q as A}from"./QList.e0faa10e.js";import{Q as E}from"./QForm.9a518ac8.js";import{Q as F}from"./QCard.2b2d4094.js";import{C as S}from"./ClosePopup.74952a98.js";import{u as K}from"./user.1bd09781.js";import{n as M}from"./notify.71f93eb9.js";import{u as R}from"./vue-i18n.runtime.f4bab15f.js";import"./QScrollObserver.6863b12c.js";import"./QResizeObserver.7833723c.js";import"./use-timeout.6c0c86b6.js";import"./uid.42677368.js";import"./use-transition.97bade2a.js";import"./position-engine.d6f8c41b.js";import"./selection.2af613b2.js";import"./use-portal.7095234a.js";import"./focusout.c6764dff.js";import"./permission.2824d1cc.js";import"./axios.a0958352.js";const G={class:"column mb-5 items-center"},H=o("div",{class:"ml-2 text-white text-h3 text-weight-bold"}," \u591A\u96F2\u7BA1\u7406 ",-1),J={class:"text-center"},O={class:"col text-h6 ellipsis"},X={class:"row mt-5"},we={__name:"login",setup(Y){const k=N(),m=K(),n=L(),{locale:C,t:d}=R(),r=u(!0),i=u({username:"",password:""}),p=u(m.language),V=u(!1),I=async()=>{V.value=!0,n.loading.show({message:d("login.loading")}),await m.handleLogin(i).then(l=>{k.push({path:"/dashboard"}),n.loading.hide()}).catch(()=>{n.loading.hide(),M("error",d("login.failed"),d("login.check"))})},v=l=>{C.value=l,p.value=l,m.setLanguage(l)};return(l,t)=>(f(),c(z,null,{default:a(()=>[e(P,null,{default:a(()=>[e(U,{class:"bg-image column justify-center items-center"},{default:a(()=>[o("div",G,[e(B,{src:$,width:"200px",fit:""}),H]),e(F,{style:T(q(n).screen.lt.sm?{width:"70%"}:{width:"450px"})},{default:a(()=>[e(_,null,{default:a(()=>[o("div",J,[o("div",O,D(l.$t("login.login")),1)])]),_:1}),e(_,null,{default:a(()=>[e(E,{class:"",onSubmit:I},{default:a(()=>[o("div",null,[e(g,{filled:"",modelValue:i.value.username,"onUpdate:modelValue":t[0]||(t[0]=s=>i.value.username=s),label:"Username","lazy-rules":"",class:"mb-5"},null,8,["modelValue"]),e(g,{type:r.value?"password":"text",filled:"",modelValue:i.value.password,"onUpdate:modelValue":t[2]||(t[2]=s=>i.value.password=s),label:"Password","lazy-rules":"",class:"mb-5"},{append:a(()=>[e(W,{name:r.value?"visibility_off":"visibility",class:"cursor-pointer",onClick:t[1]||(t[1]=s=>r.value=!r.value)},null,8,["name"])]),_:1},8,["type","modelValue"])]),o("div",X,[e(Q,{label:"Login",type:"submit",color:"primary","no-caps":""}),e(Q,{color:"primary",icon:"mdi-translate",flat:"",rounded:"",class:"no-hover",ripple:!1,"no-caps":""},{default:a(()=>[e(j,null,{default:a(()=>[e(A,null,{default:a(()=>[y((f(),c(b,{active:p.value==="zh-TW",clickable:"",onClick:t[3]||(t[3]=s=>v("zh-TW"))},{default:a(()=>[e(w,null,{default:a(()=>[e(x,null,{default:a(()=>[h("\u4E2D\u6587")]),_:1})]),_:1})]),_:1},8,["active"])),[[S]]),y((f(),c(b,{active:p.value==="en-US",clickable:"",onClick:t[4]||(t[4]=s=>v("en-US"))},{default:a(()=>[e(w,null,{default:a(()=>[e(x,null,{default:a(()=>[h("English")]),_:1})]),_:1})]),_:1},8,["active"])),[[S]])]),_:1})]),_:1})]),_:1})])]),_:1})]),_:1})]),_:1},8,["style"])]),_:1})]),_:1})]),_:1}))}};export{we as default};

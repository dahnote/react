import{Q as z}from"./QInput.3afb05c8.js";import{ar as T,r as f,f as C,o as K,q as n,as as i,k as l,p as r,s as c,x as k,cw as N,z as v,v as O,y as b,A as R,av as q,aM as E,F as L,aO as M,aP as j}from"./index.fb3f5ad5.js";import{Q as U}from"./QCardSection.4591ffd9.js";import{Q as W}from"./QCard.2b2d4094.js";import{Q as w}from"./QTd.417aa865.js";import{l as G,n as H,Q as J}from"./no-data.2e8b8955.js";import{u as X}from"./permission.2824d1cc.js";import{k as Y,a as Z}from"./aws.035e7a22.js";import{f as ee}from"./table-filter.7923a56f.js";import{n as I}from"./notify.71f93eb9.js";import{u as ae}from"./vue-i18n.runtime.f4bab15f.js";import"./use-timeout.6c0c86b6.js";import"./uid.42677368.js";import"./use-transition.97bade2a.js";import"./QSeparator.9cedb50e.js";import"./QList.e0faa10e.js";import"./QSelect.650daa0f.js";import"./QMenu.0d0ddedc.js";import"./position-engine.d6f8c41b.js";import"./selection.2af613b2.js";import"./use-portal.7095234a.js";import"./focusout.c6764dff.js";import"./QDialog.fc5c29ed.js";import"./rtl.b51694b1.js";import"./format.c860d4da.js";import"./QInnerLoading.4e21fbf1.js";import"./axios.a0958352.js";const S=m=>(M("data-v-266e2a08"),m=m(),j(),m),le={class:"row q-col-gutter-md"},se={class:"col-12 col-sm-5"},te={class:"col-12 col-sm-7 row items-end"},oe={key:0,class:"mb-4 row justify-end"},re={key:1,class:"null-h52-block"},ne={key:0,class:"text-green-8"},ie=S(()=>c("span",null,"Available",-1)),de={key:1,class:"text-green-8"},ce=S(()=>c("span",null,"Pending",-1)),ue={key:2,class:"text-grey-8"},me={key:0,class:"ma-10 pa-10"},d="resource.aws.vpc",pe={__name:"index",setup(m){const{t:o}=ae(),h=X(),u=f(!0),$=C(()=>{const e=[{name:"name",align:"left",label:o(`${d}.name`),field:"name",headerClasses:"table-header",classes:"table-body"},{name:"id",align:"left",label:o(`${d}.id`),field:"VpcId",headerClasses:"table-header",classes:"table-body"},{name:"state",align:"left",label:o(`${d}.state`),field:"State",headerClasses:"table-header",classes:"table-body"},{name:"ipv4Cidr",align:"left",label:o(`${d}.ipv4Cidr`),field:"uiFormatIpv4Cidr",headerClasses:"table-header",classes:"table-body"},{name:"dhcp",align:"left",label:o(`${d}.dhcp`),field:"DhcpOptionsId",headerClasses:"table-header",classes:"table-body"},{name:"tenancy",align:"left",label:o(`${d}.tenancy`),field:"InstanceTenancy",headerClasses:"table-header",classes:"table-body"},{name:"default",align:"left",label:o(`${d}.default`),field:"uiFormatIsDefault",headerClasses:"table-header",classes:"table-body"}];return h.role==="supervisor"&&e.push({name:"detail",align:"left",label:o("resource.aws.detail"),field:"detail",headerClasses:"table-header",classes:"table-body",filter:!1}),e}),D={rowsPerPage:10,sortBy:"",descending:!0},A=[0,10,20],p=f(""),g=f(""),y=()=>{g.value=p.value,s.value=[],_()},B=()=>{p.value=""},F=(e,a,t)=>ee(t,e,a),Q=C(()=>(s.value.forEach((e,a)=>{e.CidrBlockAssociationSet===null?s.value[a].uiFormatIpv4Cidr="":e.CidrBlockAssociationSet.length===1?s.value[a].uiFormatIpv4Cidr=`${e.CidrBlockAssociationSet[0].CidrBlock}`:e.CidrBlockAssociationSet.length===0?s.value[a].uiFormatIpv4Cidr="0 CIDR":s.value[a].uiFormatIpv4Cidr=`${e.CidrBlockAssociationSet.length} CIDRS`,e.IsDefault===null?s.value[a].uiFormatIsDefault="":e.IsDefault?s.value[a].uiFormatIsDefault=o("general.status.true"):s.value[a].uiFormatIsDefault=o("general.status.false")}),s.value)),s=f([]),_=()=>{u.value=!0,Y().then(e=>{s.value=e.data}).finally(()=>{u.value=!1})},V=()=>{Z("/networks/vpc").then(e=>{I("success",o("resource.aws.successfullyAsync"))}).catch(e=>{I("error",o("resource.aws.failed2Async"),e.response.data.detail)})},P=()=>!!(s.value.length===0&&u.value),x=e=>{window.open(e,"_blank")};return _(),K(()=>{}),(e,a)=>(n(),i(L,null,[l(W,{class:"bg-grey-11 shadow-1 mb-4 text-weight-medium"},{default:r(()=>[l(U,null,{default:r(()=>[c("div",le,[c("div",se,[c("div",null,k(e.$t("general.table.keyword")),1),l(z,{dense:"",placeholder:e.$t("general.table.enterKeyword"),modelValue:p.value,"onUpdate:modelValue":a[0]||(a[0]=t=>p.value=t),onKeyup:a[1]||(a[1]=N(t=>y(),["enter"]))},null,8,["placeholder","modelValue"])]),c("div",te,[l(v,{class:"mr-2",color:"primary",icon:"mdi-magnify",label:e.$t("general.btn.search"),onClick:a[2]||(a[2]=t=>y()),rounded:"","no-caps":""},null,8,["label"]),l(v,{color:"secondary",icon:"mdi-eraser",label:e.$t("general.btn.reset"),onClick:a[3]||(a[3]=t=>B()),rounded:"","no-caps":""},null,8,["label"])])])]),_:1})]),_:1}),O(h).role==="supervisor"?(n(),i("div",oe,[l(v,{class:"",color:"accent",icon:"mdi-cloud-sync-outline",label:e.$t("general.btn.schedule"),onClick:a[4]||(a[4]=t=>V()),rounded:"","no-caps":""},null,8,["label"])])):(n(),i("div",re)),l(J,{"card-class":"customer-table",rows:Q.value,columns:$.value,"row-key":"id",loading:u.value,"loading-label":" ","hide-bottom":P(),pagination:D,"rows-per-page-options":A,filter:g.value,"filter-method":F},{"body-cell-state":r(t=>[l(w,{class:"table-body"},{default:r(()=>[t.row.State==="available"?(n(),i("div",ne,[l(b,{size:"24px",name:"mdi-check-circle-outline"}),ie])):t.row.State==="pending"?(n(),i("div",de,[l(b,{size:"24px",name:"mdi-check-circle-outline"}),ce])):(n(),i("div",ue,[l(b,{size:"24px",name:"mdi-alert-outline"}),c("span",null,k(t.row.State),1)]))]),_:2},1024)]),"body-cell-detail":r(t=>[l(w,{class:"table-body"},{default:r(()=>[l(v,{class:"mr-1",color:"primary",icon:"mdi-link-variant",size:"sm",rounded:"","no-caps":"",onClick:fe=>x(t.row.detail_link)},null,8,["onClick"])]),_:2},1024)]),loading:r(()=>[R(l(G,null,null,512),[[q,u.value]])]),"bottom-row":r(()=>[u.value&&s.value.length===0?(n(),i("div",me)):E("",!0)]),"no-data":r(()=>[l(H)]),_:1},8,["rows","columns","loading","hide-bottom","filter"])],64))}};var Ee=T(pe,[["__scopeId","data-v-266e2a08"]]);export{Ee as default};

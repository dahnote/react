import{Q as F}from"./QInput.3afb05c8.js";import{ar as K,r as m,f as w,o as N,q as n,as as r,k as a,p as o,s as i,x as k,cw as q,z as v,v as L,y as f,A as M,av as O,aM as j,F as E,aO as R,aP as U}from"./index.fb3f5ad5.js";import{Q as W}from"./QCardSection.4591ffd9.js";import{Q as Z}from"./QCard.2b2d4094.js";import{Q as C}from"./QTd.417aa865.js";import{l as G,n as H,Q as J}from"./no-data.2e8b8955.js";import{u as X}from"./permission.2824d1cc.js";import{l as Y,a as ee}from"./aws.035e7a22.js";import{f as ae}from"./table-filter.7923a56f.js";import{n as S}from"./notify.71f93eb9.js";import{u as le}from"./vue-i18n.runtime.f4bab15f.js";import"./use-timeout.6c0c86b6.js";import"./uid.42677368.js";import"./use-transition.97bade2a.js";import"./QSeparator.9cedb50e.js";import"./QList.e0faa10e.js";import"./QSelect.650daa0f.js";import"./QMenu.0d0ddedc.js";import"./position-engine.d6f8c41b.js";import"./selection.2af613b2.js";import"./use-portal.7095234a.js";import"./focusout.c6764dff.js";import"./QDialog.fc5c29ed.js";import"./rtl.b51694b1.js";import"./format.c860d4da.js";import"./QInnerLoading.4e21fbf1.js";import"./axios.a0958352.js";const $=p=>(R("data-v-01ec2e33"),p=p(),U(),p),te={class:"row q-col-gutter-md"},se={class:"col-12 col-sm-5"},oe={class:"col-12 col-sm-7 row items-end"},ne={key:0,class:"mb-4 row justify-end"},re={key:1,class:"null-h52-block"},ie={key:0,class:"text-green-8"},de=$(()=>i("span",null,"Available",-1)),ce={key:1,class:"text-green-8"},ue=$(()=>i("span",null,"Pending",-1)),me={key:2,class:"text-grey-8"},pe={key:0,class:"ma-10 pa-10"},c="resource.aws.subnet",be={__name:"index",setup(p){const{t:s}=le(),h=X(),d=m(!0),Q=w(()=>{const e=[{name:"name",align:"left",label:s(`${c}.name`),field:"name",headerClasses:"table-header",classes:"table-body"},{name:"id",align:"left",label:s(`${c}.id`),field:"SubnetId",headerClasses:"table-header",classes:"table-body"},{name:"state",align:"left",label:s(`${c}.state`),field:"State",headerClasses:"table-header",classes:"table-body"},{name:"vpc",align:"left",label:s(`${c}.vpc`),field:"VpcId",headerClasses:"table-header",classes:"table-body"},{name:"ipv4Cidr",align:"left",label:s(`${c}.ipv4Cidr`),field:"CidrBlock",headerClasses:"table-header",classes:"table-body"},{name:"zone",align:"left",label:s(`${c}.zone`),field:"AvailabilityZone",headerClasses:"table-header",classes:"table-body"}];return h.role==="supervisor"&&e.push({name:"detail",align:"left",label:s("resource.aws.detail"),field:"detail",headerClasses:"table-header",classes:"table-body",filter:!1}),e}),x={rowsPerPage:10,sortBy:"",descending:!0},I=[0,10,20],b=m(""),y=m(""),g=()=>{y.value=b.value,u.value=[],_()},A=()=>{b.value="",z.value="all"},z=m("all"),B=(e,t,l)=>ae(l,e,t),P=w(()=>u.value),u=m([]),_=()=>{d.value=!0,Y().then(e=>{u.value=e.data}).finally(()=>{d.value=!1})},V=()=>{ee("/networks/subnets").then(e=>{S("success",s("resource.aws.successfullyAsync"))}).catch(e=>{S("error",s("resource.aws.failed2Async"),e.response.data.detail)})},D=()=>!!(u.value.length===0&&d.value),T=e=>{window.open(e,"_blank")};return _(),N(()=>{}),(e,t)=>(n(),r(E,null,[a(Z,{class:"bg-grey-11 shadow-1 mb-4 text-weight-medium"},{default:o(()=>[a(W,null,{default:o(()=>[i("div",te,[i("div",se,[i("div",null,k(e.$t("general.table.keyword")),1),a(F,{dense:"",placeholder:e.$t("general.table.enterKeyword"),modelValue:b.value,"onUpdate:modelValue":t[0]||(t[0]=l=>b.value=l),onKeyup:t[1]||(t[1]=q(l=>g(),["enter"]))},null,8,["placeholder","modelValue"])]),i("div",oe,[a(v,{class:"mr-2",color:"primary",icon:"mdi-magnify",label:e.$t("general.btn.search"),onClick:t[2]||(t[2]=l=>g()),rounded:"","no-caps":""},null,8,["label"]),a(v,{color:"secondary",icon:"mdi-eraser",label:e.$t("general.btn.reset"),onClick:t[3]||(t[3]=l=>A()),rounded:"","no-caps":""},null,8,["label"])])])]),_:1})]),_:1}),L(h).role==="supervisor"?(n(),r("div",ne,[a(v,{class:"",color:"accent",icon:"mdi-cloud-sync-outline",label:e.$t("general.btn.schedule"),onClick:t[4]||(t[4]=l=>V()),rounded:"","no-caps":""},null,8,["label"])])):(n(),r("div",re)),a(J,{"card-class":"customer-table",rows:P.value,columns:Q.value,"row-key":"id",loading:d.value,"loading-label":" ","hide-bottom":D(),pagination:x,"rows-per-page-options":I,filter:y.value,"filter-method":B},{"body-cell-state":o(l=>[a(C,{class:"table-body"},{default:o(()=>[l.row.State==="available"?(n(),r("div",ie,[a(f,{size:"24px",name:"mdi-check-circle-outline"}),de])):l.row.State==="pending"?(n(),r("div",ce,[a(f,{size:"24px",name:"mdi-check-circle-outline"}),ue])):(n(),r("div",me,[a(f,{size:"24px",name:"mdi-alert-outline"}),i("span",null,k(l.row.State),1)]))]),_:2},1024)]),"body-cell-detail":o(l=>[a(C,{class:"table-body"},{default:o(()=>[a(v,{class:"mr-1",color:"primary",icon:"mdi-link-variant",size:"sm",rounded:"","no-caps":"",onClick:ve=>T(l.row.detail_link)},null,8,["onClick"])]),_:2},1024)]),loading:o(()=>[M(a(G,null,null,512),[[O,d.value]])]),"bottom-row":o(()=>[d.value&&u.value.length===0?(n(),r("div",pe)):j("",!0)]),"no-data":o(()=>[a(H)]),_:1},8,["rows","columns","loading","hide-bottom","filter"])],64))}};var je=K(be,[["__scopeId","data-v-01ec2e33"]]);export{je as default};
